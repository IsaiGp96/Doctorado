{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Isai/Desktop/Doctorado/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Isai/Desktop/Doctorado/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import*as XLSX from'xlsx';var BASE_URL='http://127.0.0.1:5000/psomain';export var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(params){var formData,response,ws,wb;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Convertir los parámetros a formato x-www-form-urlencoded\nformData=new URLSearchParams(params).toString();_context.prev=1;_context.next=4;return axios.post(BASE_URL,formData,{headers:{'Content-Type':'application/x-www-form-urlencoded'}});case 4:response=_context.sent;ws=XLSX.utils.json_to_sheet(response.data);wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,\"Sheet1\");XLSX.writeFile(wb,\"archivo_descargado.xlsx\");return _context.abrupt(\"return\",response.data);case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.error(\"Ocurrio un error\",_context.t0);throw _context.t0;case 16:case\"end\":return _context.stop();}},_callee,null,[[1,12]]);}));return function postData(_x){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["axios","XLSX","BASE_URL","postData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","formData","response","ws","wb","wrap","_callee$","_context","prev","next","URLSearchParams","toString","post","headers","sent","utils","json_to_sheet","data","book_new","book_append_sheet","writeFile","abrupt","t0","console","error","stop","_x","apply","arguments"],"sources":["C:/Users/Isai/Desktop/Doctorado/src/Components/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst BASE_URL = 'http://127.0.0.1:5000/psomain';\r\n\r\nexport const postData = async (params) => {\r\n    // Convertir los parámetros a formato x-www-form-urlencoded\r\n    const formData = new URLSearchParams(params).toString();\r\n\r\n    try {\r\n        const response = await axios.post(BASE_URL, formData, {\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n        });\r\n        const ws = XLSX.utils.json_to_sheet(response.data);\r\n        const wb = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(wb, ws, \"Sheet1\");\r\n\r\n        XLSX.writeFile(wb, \"archivo_descargado.xlsx\");\r\n\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Ocurrio un error\", error);\r\n        throw error;\r\n    }\r\n};\r\n"],"mappings":"0PAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,GAAK,CAAAC,IAAI,KAAM,MAAM,CAE5B,GAAM,CAAAC,QAAQ,CAAG,+BAA+B,CAEhD,MAAO,IAAM,CAAAC,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,QAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,EAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACjC;AACMR,QAAQ,CAAG,GAAI,CAAAS,eAAe,CAACV,MAAM,CAAC,CAACW,QAAQ,CAAC,CAAC,CAAAJ,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG5B,CAAAlB,KAAK,CAACqB,IAAI,CAACnB,QAAQ,CAAEQ,QAAQ,CAAE,CAClDY,OAAO,CAAE,CACL,cAAc,CAAE,mCACpB,CACJ,CAAC,CAAC,QAJIX,QAAQ,CAAAK,QAAA,CAAAO,IAAA,CAKRX,EAAE,CAAGX,IAAI,CAACuB,KAAK,CAACC,aAAa,CAACd,QAAQ,CAACe,IAAI,CAAC,CAC5Cb,EAAE,CAAGZ,IAAI,CAACuB,KAAK,CAACG,QAAQ,CAAC,CAAC,CAChC1B,IAAI,CAACuB,KAAK,CAACI,iBAAiB,CAACf,EAAE,CAAED,EAAE,CAAE,QAAQ,CAAC,CAE9CX,IAAI,CAAC4B,SAAS,CAAChB,EAAE,CAAE,yBAAyB,CAAC,CAAC,OAAAG,QAAA,CAAAc,MAAA,UAEvCnB,QAAQ,CAACe,IAAI,UAAAV,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAe,EAAA,CAAAf,QAAA,aAEpBgB,OAAO,CAACC,KAAK,CAAC,kBAAkB,CAAAjB,QAAA,CAAAe,EAAO,CAAC,CAAC,MAAAf,QAAA,CAAAe,EAAA,0BAAAf,QAAA,CAAAkB,IAAA,MAAA1B,OAAA,iBAGhD,kBArBY,CAAAL,QAAQA,CAAAgC,EAAA,SAAA/B,IAAA,CAAAgC,KAAA,MAAAC,SAAA,OAqBpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}